<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BR Admin Ultimate V3 (Full Data)</title>
    <style>
        body { background: #121212; color: #eee; font-family: 'Segoe UI', monospace; padding: 20px; margin: 0; box-sizing: border-box; }
        h2, h3, h4 { color: #FFD700; margin-top: 0; }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 10px; }
        
        .container { display: grid; grid-template-columns: 280px 1fr; gap: 20px; }
        @media (max-width: 800px) { .container { grid-template-columns: 1fr; } }

        .sidebar { background: #1e1e1e; padding: 15px; border: 1px solid #333; border-radius: 8px; height: fit-content; max-height: 80vh; overflow-y: auto; }
        .editor { background: #1e1e1e; padding: 20px; border: 1px solid #333; border-radius: 8px; }
        
        button { cursor: pointer; padding: 10px; border: none; font-weight: bold; width: 100%; margin-bottom: 5px; border-radius: 4px; transition: 0.2s; }
        button:hover { filter: brightness(1.1); }
        
        .btn-green { background: #4CAF50; color: white; }
        .btn-red { background: #ff4d4d; color: white; }
        .btn-gold { background: #FFD700; color: black; }
        .btn-blue { background: #2196F3; color: white; }
        .btn-gray { background: #444; color: #ccc; font-size: 12px; }
        
        .btn-item { background: #2a2a2a; color: white; text-align: left; border-bottom: 1px solid #333; padding: 12px; }
        .btn-item:hover { background: #333; }
        .btn-item.active { background: #FFD700; color: black; border-color: #FFD700; }

        input, select { width: 100%; padding: 10px; margin-bottom: 10px; background: #121212; border: 1px solid #444; color: white; box-sizing: border-box; border-radius: 4px; }
        label { display: block; font-size: 12px; color: #aaa; margin-bottom: 4px; font-weight: bold; }
        
        .items-header { display: grid; grid-template-columns: 50px 2fr 1fr 1.5fr 40px; gap: 10px; padding: 0 10px; font-size: 12px; color: #888; margin-bottom: 5px; }
        .item-row { display: grid; grid-template-columns: 50px 2fr 1fr 1.5fr 40px; gap: 10px; align-items: start; background: #252525; padding: 10px; margin-bottom: 8px; border-left: 4px solid #555; border-radius: 4px; }
        
        .item-row input, .item-row select { margin-bottom: 5px; font-size: 13px; padding: 6px; }
        .item-img-preview { width: 40px; height: 40px; object-fit: contain; background: #000; border-radius: 4px; border: 1px solid #333; }
        
        .export-area { width: 100%; height: 120px; background: #080808; color: #0f0; border: 1px solid #333; font-size: 11px; margin-top: 10px; font-family: monospace; padding: 10px; resize: vertical; }

        .tabs { display: flex; gap: 10px; margin-bottom: 20px; background: #1e1e1e; padding: 5px; border-radius: 8px; }
        .tab-btn { background: transparent; color: #aaa; flex: 1; padding: 12px; text-align: center; cursor: pointer; border-radius: 6px; font-weight: 600; }
        .tab-btn.active { background: #333; color: #FFD700; }
        
        .chances-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin-bottom: 20px; padding: 15px; background: #181818; border: 1px solid #333; border-radius: 6px; }
        
        .border-consumer { border-left-color: #B0B0B0; }
        .border-common { border-left-color: #4CAF50; }
        .border-rare { border-left-color: #2196F3; }
        .border-epic { border-left-color: #9C27B0; }
        .border-legendary { border-left-color: #FFD700; }
        .border-mythical { border-left-color: #FF0055; }
        
        .promo-row { display: grid; grid-template-columns: 2fr 1fr 1fr 40px; gap: 10px; background: #252525; padding: 10px; margin-bottom: 5px; border-radius: 4px; border-left: 4px solid gold; }
    </style>
</head>
<body>

    <div class="header">
        <div>
            <h2>‚öôÔ∏è ADMIN PANEL</h2>
            <div style="font-size: 12px; color: #666;">–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Full Data Loaded)</div>
        </div>
        <div style="display:flex; gap:10px;">
             <button onclick="resetToDefault()" class="btn-gray" style="width: auto;">‚Ü∫ –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö</button>
             <button onclick="copyConfig()" class="btn-gold" style="width: auto; padding: 10px 30px;" id="copy-btn">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ CONFIG.JS</button>
        </div>
    </div>

    <div class="tabs">
        <div class="tab-btn active" onclick="setMode('cases')" id="tab-cases">üì¶ –ö–ï–ô–°–´</div>
        <div class="tab-btn" onclick="setMode('promos')" id="tab-promos">üéü –ü–†–û–ú–û–ö–û–î–´</div>
    </div>

    <div class="container" id="view-cases">
        <div class="sidebar">
            <h3 style="margin: 0 0 10px 0; font-size: 14px; text-transform: uppercase; color: #666;">–°–ø–∏—Å–æ–∫ –ö–µ–π—Å–æ–≤</h3>
            <div id="cases-list"></div>
            <button class="btn-green" style="margin-top: 10px;" onclick="addNewCase()">+ –ù–æ–≤—ã–π –ö–µ–π—Å</button>
        </div>

        <div class="editor" id="editor-area" style="display:none;">
            <div style="display: flex; gap: 20px; align-items: flex-start; margin-bottom: 20px;">
                <img id="case-img-preview" src="" style="width: 80px; height: 80px; object-fit: contain; background: #111; border: 1px solid #333; border-radius: 8px;">
                <div style="flex: 1;">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–µ–π—Å–∞:</label>
                    <input type="text" id="case-name" oninput="updateCaseMeta()">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                        <div>
                            <label>–¶–µ–Ω–∞ (‚ÇΩ):</label>
                            <input type="number" id="case-price" oninput="updateCaseMeta()">
                        </div>
                        <div>
                            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                            <select id="case-category" onchange="updateCaseMeta()">
                                <option value="default">Black Russia (–û–±—ã—á–Ω—ã–µ)</option>
                                <option value="bundles">–ù–∞–±–æ—Ä—ã</option>
                                <option value="risk">–í—Å—ë –∏–ª–∏ –ù–∏—á–µ–≥–æ</option>
                            </select>
                        </div>
                        <div>
                            <label>–ö–∞—Ä—Ç–∏–Ω–∫–∞ (URL):</label>
                            <input type="text" id="case-img" oninput="updateCaseMeta()">
                        </div>
                    </div>
                </div>
            </div>

            <h4 style="border-bottom: 1px solid #333; padding-bottom: 5px; margin-bottom: 10px;">üé≤ –®–∞–Ω—Å—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è (%)</h4>
            <div class="chances-grid">
                <div><label style="color:#B0B0B0">–®–∏—Ä–ø</label><input type="number" step="0.01" id="chance-consumer" onchange="updateChances()"></div>
                <div><label style="color:#4CAF50">–û–±—ã—á–Ω—ã–π</label><input type="number" step="0.01" id="chance-common" onchange="updateChances()"></div>
                <div><label style="color:#2196F3">–†–µ–¥–∫–∏–π</label><input type="number" step="0.01" id="chance-rare" onchange="updateChances()"></div>
                <div><label style="color:#9C27B0">–≠–ø–∏–∫</label><input type="number" step="0.01" id="chance-epic" onchange="updateChances()"></div>
                <div><label style="color:#FFD700">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π</label><input type="number" step="0.01" id="chance-legendary" onchange="updateChances()"></div>
                <div><label style="color:#FF0055">–ú–ò–§–ò–ß–ï–°–ö–ò–ô</label><input type="number" step="0.01" id="chance-mythical" onchange="updateChances()"></div>
            </div>

            <div style="background: #1a1a1a; padding: 10px; border-radius: 8px;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                    <h4 style="margin:0;">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–µ–π—Å–∞</h4>
                    <button class="btn-green" style="width:auto; font-size:12px;" onclick="addItem()">+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
                </div>
                
                <div class="items-header">
                    <span>IMG</span>
                    <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
                    <span>–¶–µ–Ω–∞ (‚ÇΩ)</span>
                    <span>–†–µ–¥–∫–æ—Å—Ç—å</span>
                    <span>Del</span>
                </div>
                <div id="items-container"></div>
            </div>
            
            <button class="btn-red" style="margin-top: 30px;" onclick="deleteCurrentCase()">–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ö–µ–π—Å</button>
        </div>
    </div>

    <div class="container" id="view-promos" style="display:none; grid-template-columns: 1fr;">
        <div class="editor">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 15px;">
                <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –ü—Ä–æ–º–æ–∫–æ–¥—ã</h3>
                <button class="btn-blue" style="width:auto; padding: 10px 20px;" onclick="addPromo()">+ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–¥</button>
            </div>
            <div class="items-header" style="grid-template-columns: 2fr 1fr 1fr 40px;">
                <span>–ö–æ–¥ (–ü—Ä–∏–º–µ—Ä: BONUS)</span>
                <span>–°—É–º–º–∞ (‚ÇΩ)</span>
                <span>–õ–∏–º–∏—Ç (0=–ë–µ—Å–∫, 1=–†–∞–∑–æ–≤—ã–π)</span>
                <span>Del</span>
            </div>
            <div id="promos-container"></div>
        </div>
    </div>

    <div style="margin-top: 30px;">
        <h3 style="font-size: 14px; color: #888;">–†–µ–∑—É–ª—å—Ç–∞—Ç (–î–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ –Ω–∞—á–∞–ª–æ script.js):</h3>
        <textarea id="output-json" class="export-area" readonly onclick="this.select()"></textarea>
    </div>

    <script>
        // === –ü–û–õ–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò–ó SCRIPT.JS ===
        const DEFAULT_GAME_CONFIG = [
            {
                "id": 1,
                "name": "–ö–µ–π—Å –ë–æ–º–∂–∞",
                "price": 29,
                "category": "default",
                "img": "https://i.imgur.com/9EkONxH.png",
                "chances": { "consumer": 65, "common": 15, "rare": 10, "epic": 8, "legendary": 1, "mythical": 1 },
                "items": [
                    { "name": "50.000 –í–∏—Ä—Ç", "price": 20, "img": "https://i.imgur.com/iQ3Ff5L.png", "rarity": "consumer" },
                    { "name": "150.000 –í–∏—Ä—Ç", "price": 75, "img": "https://i.imgur.com/iQ3Ff5L.png", "rarity": "common" },
                    { "name": "400.000 –í–∏—Ä—Ç", "price": 200, "img": "https://i.imgur.com/iQ3Ff5L.png", "rarity": "epic" },
                    { "name": "1.000.000 –í–∏—Ä—Ç", "price": 500, "img": "https://i.imgur.com/iQ3Ff5L.png", "rarity": "legendary" },
                    { "name": "–û—á–∫–∏ ¬´–°–µ—Ä–¥–µ—á–∫–∏¬ª", "price": 500, "img": "https://i.imgur.com/xHQRwx0.png", "rarity": "legendary" },
                    { "name": "–°–µ—Ä—ã–π –∫–µ–π—Å", "price": 500, "img": "https://i.imgur.com/OGcHP9b.png", "rarity": "legendary" },
                    { "name": "–ú–∞—Å–∫–∞ –î–∞–ª–∏", "price": 70, "img": "https://i.imgur.com/K0JsEMU.png", "rarity": "rare" },
                    { "name": "–û—á–∫–∏ ¬´Street¬ª", "price": 19, "img": "https://i.imgur.com/XARdxZn.png", "rarity": "consumer" },
                    { "name": "–°–∫–∏–Ω ¬´–ï–º–µ–ª—è¬ª", "price": 300, "img": "https://i.imgur.com/goOf1rc.png", "rarity": "epic" },
                    { "name": "–°–∫–∏–Ω ¬´–ü—É–∑–∞—Ç—ã–π¬ª", "price": 10, "img": "https://i.imgur.com/2LVGLzg.png", "rarity": "consumer" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–°–µ–ª—å—á–∞–Ω–∏–Ω¬ª", "price": 70, "img": "https://i.imgur.com/1pJCoj9.png", "rarity": "rare" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ë–∞–Ω–¥–∏—Ç¬ª", "price": 650, "img": "https://i.imgur.com/sBOIGql.png", "rarity": "legendary" },
                    { "name": "ZAZ", "price": 15, "img": "https://i.imgur.com/z0hrLCJ.png", "rarity": "consumer" },
                    { "name": "VAZ 2107", "price": 30, "img": "https://i.imgur.com/Ay8kPfF.png", "rarity": "common" },
                    { "name": "LADA NIVA", "price": 80, "img": "https://i.imgur.com/VDTY224.png", "rarity": "rare" },
                    { "name": "LADA VESTA", "price": 175, "img": "https://i.imgur.com/MxZVdD9.png", "rarity": "epic" },
                    { "name": "Mercedes-Benz W210", "price": 300, "img": "https://i.imgur.com/xFhwl3m.png", "rarity": "legendary" },
                    { "name": "10 BC", "price": 10, "img": "https://i.imgur.com/T1peEpa.png", "rarity": "consumer" },
                    { "name": "25 BC", "price": 25, "img": "https://i.imgur.com/T1peEpa.png", "rarity": "consumer" },
                    { "name": "50 BC", "price": 50, "img": "https://i.imgur.com/T1peEpa.png", "rarity": "common" },
                    { "name": "500 BC", "price": 500, "img": "https://i.imgur.com/T1peEpa.png", "rarity": "legendary" },
                    { "name": "–ê–ø—Ç–µ—á–∫–∞", "price": 7, "img": "https://i.imgur.com/4I6uqi4.png", "rarity": "consumer" },
                    { "name": "–†–µ–º–æ–Ω—Ç–Ω—ã–π –Ω–∞–±–æ—Ä", "price": 7, "img": "https://i.imgur.com/0ncZmAy.png", "rarity": "consumer" },
                    { "name": "–°–∫—É—Ç–µ—Ä", "price": 15, "img": "https://i.imgur.com/5N2komM.png", "rarity": "consumer" }
                ]
            },
            {
                "id": 1770544149013,
                "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ö–µ–π—Å",
                "price": 199,
                "category": "default",
                "img": "https://i.imgur.com/KKJOZze.png",
                "chances": { "consumer": 0, "common": 65, "rare": 25, "epic": 8, "legendary": 1.92, "mythical": 0.08 },
                "items": [
                    { "name": "–°–∫–∏–Ω ¬´–•–æ—É–º–∏¬ª", "price": 59, "img": "https://i.imgur.com/vUSoZ3w.png", "rarity": "common" },
                    { "name": "–°–∫–∏–Ω ¬´–û–ø–∞—Å–Ω—ã–π –º—É–∂—á–∏–Ω–∞¬ª", "price": 69, "img": "https://i.imgur.com/Iumo5AU.png", "rarity": "common" },
                    { "name": "–°–∫–∏–Ω ¬´–†—ã–±—á–∫–∞¬ª", "price": 89, "img": "https://i.imgur.com/7QB7INu.png", "rarity": "common" },
                    { "name": "–†—é–∫–∑–∞–∫ ¬´–ú–æ–ø—Å¬ª", "price": 79, "img": "https://i.imgur.com/IqxXto2.png", "rarity": "common" },
                    { "name": "–ö–æ—Ä–æ–Ω–∞ –∫–æ—Ä–æ–ª—è", "price": 299, "img": "https://i.imgur.com/jMuPEij.png", "rarity": "epic" },
                    { "name": "–ú–∞—Å–∫–∞ ¬´–ò–Ω–æ—Å–∫–µ¬ª", "price": 129, "img": "https://i.imgur.com/ljfQ3WL.png", "rarity": "epic" },
                    { "name": "Volkswagel Golf GTi", "price": 99, "img": "https://i.imgur.com/AhDn5yf.png", "rarity": "common" },
                    { "name": "BMW X5", "price": 219, "img": "https://i.imgur.com/mzc09cl.png", "rarity": "rare" },
                    { "name": "Nissan Qashqai", "price": 199, "img": "https://i.imgur.com/aaSHLsI.png", "rarity": "rare" },
                    { "name": "Audi A4", "price": 199, "img": "https://i.imgur.com/98BPi1T.png", "rarity": "rare" },
                    { "name": "Acura TSX", "price": 199, "img": "https://i.imgur.com/sdjKmAW.png", "rarity": "rare" },
                    { "name": "Chevrolet Camaro ZL1", "price": 999, "img": "https://i.imgur.com/nwLfhH9.png", "rarity": "epic" },
                    { "name": "Ducati SuperSport", "price": 799, "img": "https://i.imgur.com/PLprcfn.png", "rarity": "epic" },
                    { "name": "Lamborghini Aventador S", "price": 4999, "img": "https://i.imgur.com/38CkTrt.png", "rarity": "legendary" },
                    { "name": "Mercedes AMG GT-R", "price": 2999, "img": "https://i.imgur.com/jnX4NvI_d.png?maxwidth=520&shape=thumb&fidelity=high", "rarity": "legendary" },
                    { "name": "100 BC", "price": 100, "img": "https://i.imgur.com/T1peEpa_d.png?maxwidth=520&shape=thumb&fidelity=high", "rarity": "common" },
                    { "name": "200 BC", "price": 200, "img": "https://i.imgur.com/T1peEpa_d.png?maxwidth=520&shape=thumb&fidelity=high", "rarity": "rare" }
                ]
            },
            {
                "id": 1770550347497,
                "name": "–ê–≤—Ç–æ-–ö–µ–π—Å 2.0",
                "price": 999,
                "category": "default",
                "img": "https://i.imgur.com/2busFmB.png",
                "chances": { "consumer": 0, "common": 0, "rare": 75, "epic": 24, "legendary": 1, "mythical": 0 },
                "items": [
                    { "name": "BMW M5 E60", "price": 549, "img": "https://i.imgur.com/DO7L8do.png", "rarity": "rare" },
                    { "name": "Subaru WRX STi", "price": 499, "img": "https://i.imgur.com/TTbWXcs.png", "rarity": "rare" },
                    { "name": "Toyota Camry 3.5", "price": 599, "img": "https://i.imgur.com/AnTZ6oV.png", "rarity": "rare" },
                    { "name": "Volkswagen Passat", "price": 719, "img": "https://i.imgur.com/wTKU7AT.png", "rarity": "rare" },
                    { "name": "Mercedes-Benz GT63s", "price": 1699, "img": "https://i.imgur.com/S9MRfzI.png", "rarity": "epic" },
                    { "name": "Lamborghini Aventador S", "price": 4999, "img": "https://i.imgur.com/T2oklf8.png", "rarity": "legendary" },
                    { "name": "Aurus Senat", "price": 6999, "img": "https://i.imgur.com/ExQjhq2.png", "rarity": "legendary" },
                    { "name": "Mercedes-Benz G63 AMG", "price": 5500, "img": "https://i.imgur.com/E7Sbn3I.png", "rarity": "legendary" },
                    { "name": "Bugatti Divo", "price": 19999, "img": "https://i.imgur.com/TDNAGwZ.png", "rarity": "mythical" },
                    { "name": "Lamborghini Urus", "price": 3999, "img": "https://i.imgur.com/7ehMTjl.png", "rarity": "epic" },
                    { "name": "Lamborghini Huracan", "price": 3999, "img": "https://i.imgur.com/T2oklf8.png", "rarity": "epic" },
                    { "name": "BMW M4 F84", "price": 739, "img": "https://i.imgur.com/88nCiib.png", "rarity": "rare" },
                    { "name": "XPENG P7", "price": 999, "img": "https://i.imgur.com/XFale9P.png", "rarity": "rare" },
                    { "name": "BMW X6M F16", "price": 1999, "img": "https://i.imgur.com/JSqzmE2.png", "rarity": "epic" },
                    { "name": "Alfa Romeo Guilia", "price": 699, "img": "https://i.imgur.com/NFJDSKI.png", "rarity": "rare" },
                    { "name": "BMW X5M E70", "price": 799, "img": "https://i.imgur.com/r1gigSb.png", "rarity": "rare" },
                    { "name": "Ducatti Supersport", "price": 699, "img": "https://i.imgur.com/VM2gthk.png", "rarity": "rare" }
                ]
            },
            {
                "id": 1770563185594,
                "name": "–û—Å–æ–±—ã–π –ö–µ–π—Å",
                "price": 9999,
                "category": "default",
                "img": "https://i.imgur.com/qzvZZmz.png",
                "chances": { "consumer": 0, "common": 0, "rare": 0, "epic": 0, "legendary": 99.95, "mythical": 0.05 },
                "items": [
                    { "name": "Ocean Yacht", "price": 19999, "img": "https://i.imgur.com/U0T51l8.png", "rarity": "mythical" },
                    { "name": "Rolls Royce Spectre", "price": 29999, "img": "https://i.imgur.com/vlmo0vU.png", "rarity": "mythical" },
                    { "name": "Tesla CyberTruck", "price": 19999, "img": "https://i.imgur.com/Yhafdvt.png", "rarity": "mythical" },
                    { "name": "Mercedes-Benz G63 AMG 6x6", "price": 39999, "img": "https://i.imgur.com/oFp8ZbQ.png", "rarity": "mythical" },
                    { "name": "Bugatti Chiron", "price": 39999, "img": "https://i.imgur.com/chK3mjR.png", "rarity": "mythical" },
                    { "name": "Bugatti Veyron", "price": 49999, "img": "https://i.imgur.com/5q4a8L6.png", "rarity": "mythical" },
                    { "name": "Ferrari Enzo", "price": 4999, "img": "https://i.imgur.com/J3mN0Lp.png", "rarity": "legendary" },
                    { "name": "Daewoo Matiz", "price": 6999, "img": "https://i.imgur.com/4QpI1cf.png", "rarity": "legendary" },
                    { "name": "Ducati XDiavel", "price": 2999, "img": "https://i.imgur.com/rQn4wfp.pnga", "rarity": "legendary" },
                    { "name": "Lamborghini Urus", "price": 9999, "img": "https://i.imgur.com/PYEdyJD.png", "rarity": "legendary" },
                    { "name": "Mercedes-Benz G63 AMG Max", "price": 13999, "img": "https://i.imgur.com/KF2mLzy.png", "rarity": "legendary" },
                    { "name": "Mercedes-Benz SLR McLaren", "price": 14999, "img": "https://i.imgur.com/wiTkzQa.png", "rarity": "legendary" },
                    { "name": "Lamborghini Aventador", "price": 7999, "img": "https://i.imgur.com/HJCd4kU.png", "rarity": "legendary" },
                    { "name": "–ó–ª–æ–≤–µ—â–∏–π", "price": 9999, "img": "https://i.imgur.com/o7R4s2h.png", "rarity": "legendary" },
                    { "name": "Invetero Coquette D5", "price": 10999, "img": "https://i.imgur.com/RWjulPn.png", "rarity": "legendary" },
                    { "name": "F1", "price": 9999, "img": "https://i.imgur.com/rPjYhNj.png", "rarity": "legendary" },
                    { "name": "Mercedes-Benz AMG GT R", "price": 2999, "img": "https://i.imgur.com/t470enD.png", "rarity": "legendary" }
                ]
            },
            {
                "id": 1770583808350,
                "name": "–ö–µ–π—Å —Å –ù–∞–±–æ—Ä–∞–º–∏",
                "price": 269,
                "category": "bundles",
                "img": "https://i.imgur.com/2tU356X.png",
                "chances": { "consumer": 0, "common": 70, "rare": 20, "epic": 9, "legendary": 1, "mythical": 0.08 },
                "items": [
                    { "name": "–ù–∞–±–æ—Ä ¬´–°–µ–ª—å—á–∞–Ω–∏–Ω¬ª", "price": 79, "img": "https://i.imgur.com/79vFssV.png", "rarity": "common" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ë–∞–Ω–¥–∏—Ç¬ª", "price": 169, "img": "https://i.imgur.com/rXL1LFI.png", "rarity": "common" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ú–æ–ª–æ–¥–æ–π¬ª", "price": 189, "img": "https://i.imgur.com/XbLw0XA.png", "rarity": "common" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ì–∞–Ω–≥—Å—Ç–µ—Ä¬ª", "price": 269, "img": "https://i.imgur.com/7BBOmaL.png", "rarity": "rare" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ì–æ–Ω—â–∏–∫¬ª", "price": 399, "img": "https://i.imgur.com/ba9a9FD.png", "rarity": "rare" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–î–µ–ø—É—Ç–∞—Ç¬ª", "price": 599, "img": "https://i.imgur.com/bDwpbtF.png", "rarity": "epic" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ú–∞—Ñ–∏–æ–∑–∏¬ª", "price": 1999, "img": "https://i.imgur.com/0giSUQx.png", "rarity": "epic" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ú–∞–∂–æ—Ä¬ª", "price": 2999, "img": "https://i.imgur.com/YspWgzR.png", "rarity": "legendary" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–ê—Ä–Ω–∏ –∏ –ë—É—à–∏¬ª", "price": 4999, "img": "https://i.imgur.com/wGHvZJv.png", "rarity": "legendary" },
                    { "name": "–ù–∞–±–æ—Ä ¬´–û—Ö–æ—Ç–Ω–∏–∫¬ª", "price": 1999, "img": "https://i.imgur.com/nJrdJCQ.png", "rarity": "legendary" }
                ]
            },
            {
                "id": 1770584844771,
                "name": "–í—Å—ë –∏–ª–∏ –ù–∏—á–µ–≥–æ?",
                "price": 19,
                "category": "risk",
                "img": "https://i.imgur.com/12hzaW0.png",
                "chances": { "consumer": 99.95, "common": 0, "rare": 0, "epic": 0, "legendary": 0.05, "mythical": 0 },
                "items": [
                    { "name": "–ê–ø—Ç–µ—á–∫–∞", "price": 7, "img": "https://i.imgur.com/4I6uqi4_d.png?maxwidth=520&shape=thumb&fidelity=high", "rarity": "consumer" },
                    { "name": "Lamborghini Huracan", "price": 3999, "img": "https://i.imgur.com/T2oklf8.png", "rarity": "legendary" }
                ]
            }
        ];

        const DEFAULT_PROMO_CODES = [
            { "code": "ADMINKAADMINKAADMINKA", "val": 1000, "limit": 0 },
            { "code": "1CODE", "val": 10000, "limit": 1 },
            { "code": "NEW_CODE_371", "val": -296992, "limit": 1 }
        ];

        let gameData = [];
        let promoData = [];
        let currentCaseIdx = -1;

        // –ò–°–ü–û–õ–¨–ó–£–ï–ú –ù–û–í–´–ï –ö–õ–Æ–ß–ò (V6 –∏ V3), –ß–¢–û–ë–´ –ü–û–î–¢–Ø–ù–£–õ–ò–°–¨ –ù–û–í–´–ï –î–ê–ù–ù–´–ï
        const STORAGE_KEY_CASES = 'admin_game_config_v6';
        const STORAGE_KEY_PROMOS = 'admin_promo_config_v3';

        function init() {
            const savedCases = localStorage.getItem(STORAGE_KEY_CASES);
            const savedPromos = localStorage.getItem(STORAGE_KEY_PROMOS);

            if(savedCases && savedCases !== "[]") {
                gameData = JSON.parse(savedCases);
            } else {
                gameData = JSON.parse(JSON.stringify(DEFAULT_GAME_CONFIG));
            }

            if(savedPromos) {
                promoData = JSON.parse(savedPromos);
            } else {
                promoData = JSON.parse(JSON.stringify(DEFAULT_PROMO_CODES));
            }

            renderCasesList();
            renderPromos();
            exportConfig();
        }

        function resetToDefault() {
            if(!confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ —Å–æ—Ç—Ä–µ—Ç –≤—Å–µ –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è!")) return;
            localStorage.removeItem(STORAGE_KEY_CASES);
            localStorage.removeItem(STORAGE_KEY_PROMOS);
            location.reload();
        }

        function setMode(mode) {
            document.getElementById('view-cases').style.display = mode === 'cases' ? 'grid' : 'none';
            document.getElementById('view-promos').style.display = mode === 'promos' ? 'grid' : 'none';
            document.getElementById('tab-cases').className = `tab-btn ${mode==='cases'?'active':''}`;
            document.getElementById('tab-promos').className = `tab-btn ${mode==='promos'?'active':''}`;
        }

        function renderCasesList() {
            const list = document.getElementById('cases-list');
            list.innerHTML = '';
            gameData.forEach((c, idx) => {
                const btn = document.createElement('button');
                btn.className = `btn-item ${idx === currentCaseIdx ? 'active' : ''}`;
                btn.innerHTML = `
                    <div style="font-size:14px; font-weight:bold;">${c.name}</div>
                    <div style="font-size:11px; color:#888;">${c.price} ‚ÇΩ ‚Ä¢ [${c.category || 'default'}]</div>
                `;
                btn.onclick = () => selectCase(idx);
                list.appendChild(btn);
            });
        }

        function selectCase(idx) {
            currentCaseIdx = idx;
            renderCasesList();
            const c = gameData[idx];
            
            document.getElementById('editor-area').style.display = 'block';
            document.getElementById('case-name').value = c.name;
            document.getElementById('case-price').value = c.price;
            document.getElementById('case-img').value = c.img;
            document.getElementById('case-category').value = c.category || 'default';
            document.getElementById('case-img-preview').src = c.img;
            
            if(!c.chances) c.chances = { consumer: 50, common: 30, rare: 15, epic: 4, legendary: 1, mythical: 0 };
            
            document.getElementById('chance-consumer').value = c.chances.consumer || 0;
            document.getElementById('chance-common').value = c.chances.common || 0;
            document.getElementById('chance-rare').value = c.chances.rare || 0;
            document.getElementById('chance-epic').value = c.chances.epic || 0;
            document.getElementById('chance-legendary').value = c.chances.legendary || 0;
            document.getElementById('chance-mythical').value = c.chances.mythical || 0;

            renderItems(c.items);
        }

        function renderItems(items) {
            const container = document.getElementById('items-container');
            container.innerHTML = '';
            
            items.forEach((item, idx) => {
                const row = document.createElement('div');
                row.className = `item-row border-${item.rarity}`;
                row.innerHTML = `
                    <img src="${item.img}" class="item-img-preview">
                    <div>
                        <input type="text" value="${item.name}" onchange="updateItem(${idx}, 'name', this.value)" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
                        <input type="text" value="${item.img}" placeholder="URL –∫–∞—Ä—Ç–∏–Ω–∫–∏" style="font-size:10px; color:#888; margin:0;" onchange="updateItem(${idx}, 'img', this.value)">
                    </div>
                    <input type="number" value="${item.price}" onchange="updateItem(${idx}, 'price', this.value)" placeholder="–¶–µ–Ω–∞">
                    <select onchange="updateItem(${idx}, 'rarity', this.value)">
                        <option value="consumer" ${item.rarity==='consumer'?'selected':''}>–®–∏—Ä–ø (–°–µ—Ä—ã–π)</option>
                        <option value="common" ${item.rarity==='common'?'selected':''}>–û–±—ã—á–Ω—ã–π (–ó–µ–ª–µ–Ω—ã–π)</option>
                        <option value="rare" ${item.rarity==='rare'?'selected':''}>–†–µ–¥–∫–∏–π (–°–∏–Ω–∏–π)</option>
                        <option value="epic" ${item.rarity==='epic'?'selected':''}>–≠–ø–∏–∫ (–§–∏–æ–ª)</option>
                        <option value="legendary" ${item.rarity==='legendary'?'selected':''}>–õ–µ–≥–∞ (–ó–æ–ª–æ—Ç–æ)</option>
                        <option value="mythical" ${item.rarity==='mythical'?'selected':''}>–ú–ò–§ (–ö—Ä–∞—Å–Ω—ã–π)</option>
                    </select>
                    <button class="btn-red" style="width:100%; padding:8px;" onclick="deleteItem(${idx})">üóë</button>
                `;
                container.appendChild(row);
            });
        }

        function updateCaseMeta() {
            if(currentCaseIdx === -1) return;
            gameData[currentCaseIdx].name = document.getElementById('case-name').value;
            gameData[currentCaseIdx].price = parseInt(document.getElementById('case-price').value) || 0;
            gameData[currentCaseIdx].img = document.getElementById('case-img').value;
            gameData[currentCaseIdx].category = document.getElementById('case-category').value;
            
            const imgPreview = document.getElementById('case-img-preview');
            imgPreview.src = gameData[currentCaseIdx].img;
            imgPreview.onerror = function() { this.src = 'https://via.placeholder.com/80?text=Err'; };
            
            renderCasesList();
            save();
        }

        function updateChances() {
            if(currentCaseIdx === -1) return;
            gameData[currentCaseIdx].chances = {
                consumer: parseFloat(document.getElementById('chance-consumer').value) || 0,
                common: parseFloat(document.getElementById('chance-common').value) || 0,
                rare: parseFloat(document.getElementById('chance-rare').value) || 0,
                epic: parseFloat(document.getElementById('chance-epic').value) || 0,
                legendary: parseFloat(document.getElementById('chance-legendary').value) || 0,
                mythical: parseFloat(document.getElementById('chance-mythical').value) || 0
            };
            save();
        }

        function updateItem(itemIdx, field, value) {
            if(field === 'price') value = parseInt(value) || 0;
            gameData[currentCaseIdx].items[itemIdx][field] = value;
            if(field === 'rarity') renderItems(gameData[currentCaseIdx].items);
            save();
        }

        function addItem() {
            if(currentCaseIdx === -1) return;
            gameData[currentCaseIdx].items.push({ name: "–ù–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç", price: 100, img: "https://via.placeholder.com/150", rarity: "consumer" });
            renderItems(gameData[currentCaseIdx].items);
            save();
        }

        function deleteItem(idx) {
            if(!confirm("–£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç?")) return;
            gameData[currentCaseIdx].items.splice(idx, 1);
            renderItems(gameData[currentCaseIdx].items);
            save();
        }

        function addNewCase() {
            gameData.push({ 
                id: Date.now(), 
                name: "–ù–æ–≤—ã–π –ö–µ–π—Å", 
                price: 100, 
                category: "default", 
                img: "https://via.placeholder.com/150", 
                chances: { consumer: 50, common: 30, rare: 15, epic: 4, legendary: 0.92, mythical: 0.08 },
                items: [] 
            });
            selectCase(gameData.length - 1);
            save();
        }

        function deleteCurrentCase() {
            if(!confirm("–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é?")) return;
            gameData.splice(currentCaseIdx, 1);
            currentCaseIdx = -1;
            document.getElementById('editor-area').style.display = 'none';
            renderCasesList();
            save();
        }

        // === –õ–û–ì–ò–ö–ê –ü–†–û–ú–û–ö–û–î–û–í ===
        function renderPromos() {
            const container = document.getElementById('promos-container');
            container.innerHTML = '';

            promoData.forEach((promo, idx) => {
                const row = document.createElement('div');
                row.className = 'promo-row';
                row.innerHTML = `
                    <input type="text" value="${promo.code}" placeholder="CODE" onchange="updatePromo(${idx}, 'code', this.value)" style="margin:0; font-weight:bold; color:gold;">
                    <input type="number" value="${promo.val}" placeholder="–°—É–º–º–∞" onchange="updatePromo(${idx}, 'val', this.value)" style="margin:0;">
                    <select onchange="updatePromo(${idx}, 'limit', this.value)" style="margin:0;">
                        <option value="1" ${promo.limit == 1 ? 'selected' : ''}>–û–¥–∏–Ω —Ä–∞–∑ (1)</option>
                        <option value="0" ${promo.limit == 0 ? 'selected' : ''}>–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ (0)</option>
                    </select>
                    <button class="btn-red" style="width:100%; margin:0; padding:8px;" onclick="deletePromo(${idx})">üóë</button>
                `;
                container.appendChild(row);
            });
        }

        function addPromo() {
            promoData.push({ code: "NEW_CODE_" + Math.floor(Math.random()*1000), val: 1000, limit: 1 });
            renderPromos();
            save();
        }

        function deletePromo(idx) {
            if(!confirm("–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥?")) return;
            promoData.splice(idx, 1);
            renderPromos();
            save();
        }

        function updatePromo(idx, field, val) {
            if(field === 'val' || field === 'limit') val = parseInt(val);
            promoData[idx][field] = val;
            save(); 
        }

        // === –°–û–•–†–ê–ù–ï–ù–ò–ï –ò –≠–ö–°–ü–û–†–¢ ===
        function save() {
            localStorage.setItem(STORAGE_KEY_CASES, JSON.stringify(gameData));
            localStorage.setItem(STORAGE_KEY_PROMOS, JSON.stringify(promoData));
            exportConfig();
        }

        function exportConfig() {
            const jsonCases = JSON.stringify(gameData, null, 4);
            const jsonPromos = JSON.stringify(promoData, null, 4);
            
            const str = `/* ==============================================
   –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–í–°–¢–ê–í–ò–¢–¨ –≠–¢–û –í –ù–ê–ß–ê–õ–û SCRIPT.JS)
   ============================================== */
const GAME_CONFIG = ${jsonCases};

const PROMO_CODES = ${jsonPromos};
`;
            document.getElementById('output-json').value = str;
        }

        function copyConfig() {
            const textarea = document.getElementById('output-json');
            textarea.select();
            if(navigator.clipboard) {
                navigator.clipboard.writeText(textarea.value).then(() => {
                    alert("–ö–æ–Ω—Ñ–∏–≥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –¢–µ–ø–µ—Ä—å –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ script.js —ç—Ç–∏–º —Ç–µ–∫—Å—Ç–æ–º.");
                }).catch(err => {
                    document.execCommand('copy');
                    alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!");
                });
            } else {
                document.execCommand('copy');
                alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!");
            }
        }

        init();
    </script>
</body>
</html>